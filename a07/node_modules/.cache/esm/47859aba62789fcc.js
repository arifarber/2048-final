let Game,keypress;_627‍.w("./engine/game",[["default",["Game"],function(v){Game=v}]]);_627‍.w("keypress",[["default",["keypress"],function(v){keypress=v}]]);


keypress(process.stdin);

/**
 * The code in this file is used to run your game in the console. Use it
 * to help develop your game engine.
 *
 */

let game = new Game(4);

_627‍.g.console.log(game.toString());

game.onMove((gameState) => {
  _627‍.g.console.log(game.toString());
  _627‍.g.console.log(gameState.score);
});

game.onWin((gameState) => {
  _627‍.g.console.log("You won with a gameState of...", gameState);
});

game.onLose((gameState) => {
  _627‍.g.console.log("You lost! :(", gameState);
  console.log(`Your score was ${gameState.score}`);
});

process.stdin.on("keypress", function (ch, key) {
  switch (key.name) {
    case "right":
      game.move("right");
      break;
    case "left":
      game.move("left");

      break;
    case "down":
      game.move("down");

      break;
    case "up":
      game.move("up");
      break;
  }

  if (key && key.ctrl && key.name == "c") {
    process.stdin.pause();
  }
});

process.stdin.setRawMode(true);
process.stdin.resume();
